<Window x:Class="SimTestRequestBridge.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:SimTestRequestBridge"
        xmlns:vm1="clr-namespace:SimTestRequestBridge.ViewModels"
        mc:Ignorable="d"
        Title="Sim Test Request Bridge" Height="759" Width="1174">
    <Window.DataContext>
        <vm1:MainWindowViewModel></vm1:MainWindowViewModel>
    </Window.DataContext>


    <Window.Resources>
        <Style x:Key="NoExpanderHeaderStyle" TargetType="ToggleButton">
            <Setter Property="Visibility" Value="Collapsed"/>
        </Style>
    </Window.Resources>
    
    <DockPanel>
        <ToolBarTray DockPanel.Dock="Top" >
            <ToolBar>
                <Button Command="{Binding NewCommand}"  Content="New" />
                <Button Command="{Binding NewCommand}"  Content="Delete" />
                <Button Command="{Binding RefrehCommand}" Content="Delete DB" />
                <Button Command="{Binding RefreshCommand}" Content="Refresh" />
                <Button Command="{Binding OpenCommand}" Content="Open" />
                <Button Command="{Binding SaveCommand}" Content="Save" />
                <Button Command="{Binding StageCommand}" Content="Stage" />
            </ToolBar>
        </ToolBarTray>

        <Grid Name="MCGrid">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition />
            </Grid.RowDefinitions>

            <Expander Grid.Column="0"  Background="DarkCyan" FlowDirection="RightToLeft" ExpandDirection="Right" IsExpanded="True" >
                <DockPanel Background="LightGray">
                    <GroupBox Header="Test Requests - In Process" Grid.Column="1"  >
                        <DataGrid Margin="5" MinWidth="200"  Background="LightGray"  AutoGenerateColumns="False" HeadersVisibility="Column" IsReadOnly="True" SelectionMode="Single"  SelectedItem="{Binding CurrentTestRequest}" ItemsSource="{Binding Path=TestRequests, Mode=OneWay, NotifyOnSourceUpdated=True, UpdateSourceTrigger=PropertyChanged}"  >
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Name" Binding="{Binding Path=TestRequestID}"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </GroupBox>
                </DockPanel>
            </Expander>

            <DockPanel Background="LightGray" Grid.Column="2"  IsEnabled="{Binding CurrentTestRequest, TargetNullValue=False}">

                <Grid DockPanel.Dock="Top">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="300" />
                    </Grid.RowDefinitions>

                    <GroupBox Header="Test Request - General Information"  Grid.Column="0" MaxWidth="350" MinWidth="250" >
                        <DockPanel Height="Auto" Name="stackPanel1" Width="Auto" LastChildFill="True" Margin="5">
                            <Label DockPanel.Dock="Top">Request Name:</Label>
                            <TextBlock  DockPanel.Dock="Top" HorizontalAlignment="Stretch"  Text="{Binding CurrentTestRequest.TestRequestID}" Background="White"  />
                            <Label DockPanel.Dock="Top" Grid.Column="0" Grid.Row="0" >Request Description:</Label>
                            <TextBlock  HorizontalAlignment="Stretch"  Text="{Binding CurrentTestRequest.Description}" Background="White" Height="182" />
                        </DockPanel>

                    </GroupBox>
                    <GroupBox Header="Test Request - Runs" Grid.Column="1"  >

                        <DockPanel Background="LightGray" Grid.Column="2" Margin="5"  IsEnabled="{Binding CurrentTestRequest, TargetNullValue=False}">
                            <ToolBarTray DockPanel.Dock="Top" >
                                <ToolBar>
                                    <Button Command="{Binding NewCommand}"  Content="New" />
                                    <Button Command="{Binding DeleteCommand}"  Content="Delete" />
                                </ToolBar>
                            </ToolBarTray>

                            <DataGrid Background="LightGray"  AutoGenerateColumns="True" HeadersVisibility="Column" IsReadOnly="True"  SelectedItem="{Binding CurrentTestRequestRun}" ItemsSource="{Binding CurrentTestRequestRuns}" >
                            </DataGrid>
                        </DockPanel>
                    </GroupBox>


                </Grid>


                <DockPanel
                    Background="AliceBlue"
                    Height="Auto"            
                    
                    Margin="10">

                    <GroupBox   IsEnabled="{Binding CurrentTestRequestRun, TargetNullValue=False}"  Header="Test Request - Selected Run Information" Grid.Column="1"  >


                        <TabControl Margin="5" Background="AliceBlue">
                            <TabItem Header="Tires">

                                <StackPanel Margin="10" Grid.Column="0">
                                   
                                    <Label >Left Front Tire:</Label>

                                    <DockPanel  LastChildFill="True" >
                                        <Button Content="Browse"  DockPanel.Dock="Left" VerticalAlignment="Center"/>
                                        <TextBlock HorizontalAlignment="Stretch" Margin="5,1,1,1" Text="{Binding CurrentTestRequestRun.LFTire.TirePath, UpdateSourceTrigger=PropertyChanged}" Background="White"  />
                                    </DockPanel >

                                    <Label Grid.Column="0" Grid.Row="0" >Right Front Tire:</Label>
                                    <DockPanel LastChildFill="True" >
                                        <Button Content="Browse"  DockPanel.Dock="Left" VerticalAlignment="Center"/>
                                        <TextBlock HorizontalAlignment="Stretch" Margin="5,1,1,1" Text="{Binding CurrentTestRequestRun.LFTire.TirePath, UpdateSourceTrigger=PropertyChanged}" Background="White"  />
                                    </DockPanel >
                                    
                                    
                                    <Label Grid.Column="0" Grid.Row="0" >Left Rear Tire:</Label>
                                    <DockPanel  LastChildFill="True" >
                                        <Button Content="Browse"  DockPanel.Dock="Left" VerticalAlignment="Center"/>
                                        <TextBlock HorizontalAlignment="Stretch" Margin="5,1,1,1" Text="{Binding CurrentTestRequestRun.RFTire.TirePath, UpdateSourceTrigger=PropertyChanged}" Background="White"  />
                                    </DockPanel >
                                    
                                    <Label Grid.Column="0" Grid.Row="0" >Right Rear Tire:</Label>
                                    <DockPanel LastChildFill="True" >
                                        <Button Content="Browse"  DockPanel.Dock="Left" VerticalAlignment="Center"/>
                                        <TextBlock HorizontalAlignment="Stretch" Margin="5,1,1,1" Text="{Binding CurrentTestRequestRun.RRTire.TirePath, UpdateSourceTrigger=PropertyChanged}" Background="White"  />
                                    </DockPanel >

                                </StackPanel>
                            </TabItem>
                            <TabItem Header="Telemetry Logs" />
                            <TabItem Header="Comments" />
                        </TabControl>
                    </GroupBox>
                </DockPanel>
            </DockPanel>
        </Grid>
    </DockPanel>
</Window>
